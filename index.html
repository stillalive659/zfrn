<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTK-SMP</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="taskbar">
        <span></span><span></span><span></span>
    </div>
    <div class="a">
        <h1 class="welcome">Soal Olimpiade MTK Tingkat SMP</h1>
        <input type="text" name="" id="" placeholder="Search" class="search">
    </div>
    <br>
    <div class="main" id="main"></div>
    <script>
    const fileID = "1QO8SNALvuNwaNSuIQfJYU-pxFoXliphT"; 
    const url = `https://drive.google.com/uc?export=download&id=${fileID}`;
    const proxy = "https://api.allorigins.win/raw?url=" + encodeURIComponent(url);

        fetch(proxy)
  .then(res => res.json())
  .then(data => console.log(data))
  .catch(err => console.error(err));
    
    let data = [
      {judul: "Batik Birru", detail: "2024, 40 soal", file: "soal2024.pdf"},
      {judul: "Batik Merah", detail: "2023, 50 soal", file: "soal2023.pdf"},
      {judul: "Batik Hijau", detail: "2022, 30 soal", file: "soal2022.pdf"}
    ];

    let container = document.getElementById("main");

    data.forEach((item, index) => {
      // Tambah blok HTML
      container.innerHTML += `
        <div class="isi">
          <div class="info">
            <h2>${item.judul}</h2>
            <h4>${item.detail}</h4>
          </div>
          <img src="download.svg" alt="Download" class="download" id="btnDownload${index}">
        </div>
      `;

      // Setelah ditambahkan ke DOM, pasang event listener
      setTimeout(() => {
        document.getElementById("btnDownload" + index).addEventListener("click", function() {
          let link = document.createElement("a");
          link.href = item.file;                   // file sesuai data
          link.download = item.judul + ".pdf";     // nama file hasil download
          link.click();
        });
      });
    });
    </script>
</body>
</html>